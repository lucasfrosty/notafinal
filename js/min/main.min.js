"use strict";function verifyIfInputIsNull(e){return""!=e}function getValidGrids(){for(var e=[],t=1;t<=GRIDS_LENGTH;t++)verifyIfInputIsNull($("#grid-"+t).val())&&(e.push(Number($("#grid-"+t).val())),$("#grid-"+t).val(""));return e}function getAvarage(){var e=getValidGrids();return e.reduce(function(e,t){return e+t},0)/e.length}function invalid(){alert("Você digitou uma nota inválida, tente novamente"),location.reload()}function createNewSubtitle(e,t){var o=$("<h3>",{id:t});o.text(e),$("#title").append(o)}function createFinalGridInput(){var e=$("<input>",{id:"final-input",type:"tel",class:"form-control grid",maxLength:4,placeholder:"Nota"});$(".form-inline").append(e)}function createResetButton(){var e=$("<button>",{id:"reset-button",class:"btn btn-reset btn-lg"});e.text("Voltar"),e.click(function(){location.reload()}),$(".container").append(e)}function calcButton(e,t){var o=$("<button>",{id:"submit-final",class:"btn btn-calc btn-lg"});o.text("Calcular"),o.click(function(){if(gridFinal=$("#final-input").val(),verifyIfInputIsNull(gridFinal)){verifyFinalResult(calcFinalGrid(e,gridFinal).toFixed(2))}}),$(".container").append(o)}function verifyFinalResult(e){(removeInputAndCalcButton=function(){$("#final-input").remove(),$("#submit-final").remove()})(),e>=5&&e<10?failOrSuccess(e,!0,!0):e<5&&e>=0?failOrSuccess(e,!1,!0):invalid()}function failOrSuccess(e,t,o){if(t)var n={bodyBackgroundColor:"#388e3c",footerBackgroundColor:"#2a702d",subtitleText:"Parabéns, você passou!"};else var n={bodyBackgroundColor:"#e53935",footerBackgroundColor:"#bb302d",subtitleText:"Você não passou :("};o||removeThings(),$("body").css("background-color",n.bodyBackgroundColor),$("footer").css("background-color",n.footerBackgroundColor),$("#title").text("Sua média foi "+e),createNewSubtitle(n.subtitleText,"new-subtitle"),createResetButton()}function removeThings(){$("#subtitle").remove(),$("#submit-button").remove();for(var e=1;e<=GRIDS_LENGTH;e++)$("#grid-"+e).remove()}function howMuchNeededToPass(e){return diff=e-4,(6.5-1.5*diff).toFixed(2)}function calcFinalGrid(e,t){return diff=e-t,Number(5-.4*diff)}var GRIDS_LENGTH=5;$(document).ready(function(){$(".grid").keydown(function(e){$.inArray(e.keyCode,[46,8,9,27,13,110,190])!==-1||65==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||67==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||88==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),$("#submit-button").click(function(){var e=getAvarage();if(e>=4&&e<7){var t=e.toFixed(2);$("body").css("background-color","#FFD740"),$("footer").css("background-color","#d5b334"),$("#title").text("Sua média foi "+t),createNewSubtitle("Você terá que fazer a prova final precisando tirar "+howMuchNeededToPass(Number(t)),"final-subtitle"),removeThings(),createNewSubtitle("Digite sua nota no exame final:","final-subtitle-2"),createFinalGridInput(),calcButton(howMuchNeededToPass(Number(t)))}else e>=7&&e<=10?failOrSuccess(e.toFixed(2),!0,!1):e<4?failOrSuccess(e.toFixed(2),!1,!1):invalid()})});