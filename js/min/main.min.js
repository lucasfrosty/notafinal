"use strict";function getValidGrids(){for(var e=[],t=1;t<=GRIDS_LENGTH;t++)$("#grid-"+t).val()&&(e.push(Number($("#grid-"+t).val())),$("#grid-"+t).val(""));return e}function getAvarage(){var e=getValidGrids();return e.reduce(function(e,t){return e+t},0)/e.length}function invalid(){alert("Você digitou uma nota inválida, tente novamente"),location.reload()}function createNewSubtitle(e,t){var n=$("<h3>",{id:t});n.text(e),$("#title").append(n)}function createFinalGridInput(){var e=$("<input>",{id:"final-input",type:"tel",class:"form-control grid",maxLength:4,placeholder:"Nota"});$(".form-inline").append(e)}function createResetButton(e){var t=$("<button>",{id:"reset-button",class:"btn btn-lg "+e});t.text("Voltar"),t.click(function(){location.reload()}),$(".container").append(t)}function calcButton(e,t){var n=$("<button>",{id:"submit-final",class:"btn btn-calc-sm btn-lg"});n.text("Calcular"),n.click(function(){var t=$("#final-input").val();if(t&&t>=0&&t<=10){verifyFinalResult(calcFinalGrid(e,t).toFixed(2))}else alert("Nota inválida, tente novamente")}),$(".container").append(n)}function verifyFinalResult(e){!function(){$("#final-input").remove(),$("#submit-final").remove()}(),e>=5&&e<10?failOrSuccess(e,!0,!0):e<5&&e>=0?failOrSuccess(e,!1,!0):invalid()}function failOrSuccess(e,t,n){if(t)var o={bodyBackgroundColor:"#499149",subtitleText:"Parabéns, você passou!",themeColor:"#1e4b1e"};else var o={bodyBackgroundColor:"#BC4F4F",iconBackgroundColor:"#3c8ca3",subtitleText:"Você não passou :(",themeColor:"#591c1c"};n||removeThings(),$("body").css("background-color",o.bodyBackgroundColor),$("#floating-button").css("background",o.iconBackgroundColor),$("meta[name=theme-color]").setAttribute("content",o.themeColor),$("#title").text("Sua média foi "+e),createNewSubtitle(o.subtitleText,"new-subtitle"),$("#reset-button").remove(),createResetButton("btn-reset")}function removeThings(){$("#subtitle").remove(),$("#submit-button").remove();for(var e=1;e<=GRIDS_LENGTH;e++)$("#grid-"+e).remove()}function howMuchNeededToPass(e){return(6.5-1.5*(e-4)).toFixed(2)}function calcFinalGrid(e,t){var n=e-t;return Number(5-.4*n)}var GRIDS_LENGTH=5;$(document).ready(function(){$(".grid").keydown(function(e){$.inArray(e.keyCode,[46,8,9,27,13,110,190])!==-1||65==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||67==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||88==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),$("#submit-button").click(function(){var e=getAvarage();if(e>=4&&e<7){var t=e.toFixed(2);$("body").css("background-color","#dfba33"),$("#title").text("Sua média foi "+t),createNewSubtitle("Você terá que fazer a prova final precisando tirar "+howMuchNeededToPass(Number(t)),"final-subtitle"),$("meta[name=theme-color]").setAttribute("content","#a1851f"),removeThings(),createNewSubtitle("Digite sua nota no exame final:","final-subtitle-2"),createFinalGridInput(),createResetButton("btn-reset-sm"),calcButton(howMuchNeededToPass(Number(t)))}else e>=7&&e<=10?failOrSuccess(e.toFixed(2),!0,!1):e<4?failOrSuccess(e.toFixed(2),!1,!1):invalid()})});