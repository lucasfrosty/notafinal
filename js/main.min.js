function invalid(){alert("Você digitou uma nota inválida, tente novamente"),location.reload()}function usingBreakLine(e){var t=$("#title").html();t=t.substring(0,e)+"<br>"+t.substring(e),$("#title").html(t)}function createFinalNoteInput(){var e=$("<input>",{id:"notaFinal","class":"form-control nota",maxLength:4,placeholder:"Nota"});$(".form-inline").append(e)}function createFinalSubtitle(){$("#title").append("<h3>Digite sua nota no exame final:</h3>")}function createResetBtn(){var e=$("<button>",{id:"resetBtn","class":"btn btn-reset btn-lg"});e.text("Voltar"),e.click(function(){location.reload()}),$(".container").append(e)}function calcBtn(e,t){var n=$("<button>",{id:"submitFinal","class":"btn btn-calc btn-lg"});n.text("Calcular"),n.click(function(){notaFinal=$("#notaFinal").val(),""!=notaFinal&&(t=calcNotaFinal(e,notaFinal),verifyFinalResult(t.toFixed(1)))}),$(".container").append(n)}function verifyFinalResult(e){e>=5&&10>e?(success(e),usingBreakLine(17),$("#notaFinal").remove(),$("#submitFinal").remove()):5>e&&e>=0?(fail(e),usingBreakLine(17),$("#notaFinal").remove(),$("#submitFinal").remove()):invalid()}function fail(e){$("body").css("background-color","#e53935"),$("footer").css("background-color","#bb302d"),$("#title").text("Sua média foi "+e+"Você não passou :( "),removeThings()}function success(e){$("body").css("background-color","#388e3c"),$("footer").css("background-color","#2a702d"),$("#title").text("Sua média foi "+e+"Parabéns, você passou!"),removeThings()}function calcNota(e,t,n,a,o){var i=0,c=0;return""!=e&&(numberP1=Number(e),i+=numberP1,c++),""!=t&&(numberP2=Number(t),i+=numberP2,c++),""!=n&&(numberP3=Number(n),i+=numberP3,c++),""!=a&&(numberP4=Number(a),i+=numberP4,c++),""!=o&&(numberP5=Number(o),i+=numberP5,c++),i/c}function defineNotas(){nota1=$("#nota1").val(),nota2=$("#nota2").val(),nota3=$("#nota3").val(),nota4=$("#nota4").val(),nota5=$("#nota5").val()}function removeThings(){$("#subtitle").remove(),$("#nota1").remove(),$("#nota2").remove(),$("#nota3").remove(),$("#nota4").remove(),$("#nota5").remove(),$("#submit1").remove()}function calcQuantoPrecisa(e){return diff=e-4,(6.5-1.5*diff).toFixed(1)}function calcNotaFinal(e,t){return diff=e-t,Number(-(.4*diff)+5)}$(document).ready(function(){$(".nota").keydown(function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||67==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||88==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),$("#submit1").click(function(){var e=0;defineNotas(),calcNota=calcNota(nota1,nota2,nota3,nota4,nota5),calcNota>=4&&7>calcNota?(nota=calcNota.toFixed(1),$("body").css("background-color","#FFD740"),$("footer").css("background-color","#d5b334"),$("#title").text("Sua média foi "+nota+"Você terá que fazer a prova final precisando tirar "+calcQuantoPrecisa(Number(nota))),usingBreakLine(17),usingBreakLine(76),removeThings(),createFinalSubtitle(),createFinalNoteInput(),calcBtn(calcQuantoPrecisa(Number(nota)),e),createResetBtn()):calcNota>=7&&10>=calcNota?(success(calcNota.toFixed(1)),usingBreakLine(10==calcNota?18:17),createResetBtn()):4>calcNota?(fail(calcNota.toFixed(1)),usingBreakLine(17),createResetBtn()):invalid()})});
